/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-fn",
factory: function (require) {
var plugin=(()=>{var w=Object.create,h=Object.defineProperty,b=Object.defineProperties,H=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertyNames,L=Object.getOwnPropertySymbols,U=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var v=(r,e,t)=>e in r?h(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,f=(r,e)=>{for(var t in e||(e={}))F.call(e,t)&&v(r,t,e[t]);if(L)for(var t of L(e))x.call(e,t)&&v(r,t,e[t]);return r},y=(r,e)=>b(r,E(e)),T=r=>h(r,"__esModule",{value:!0});var c=r=>{if(typeof require!="undefined")return require(r);throw new Error('Dynamic require of "'+r+'" is not supported')};var j=(r,e)=>{for(var t in e)h(r,t,{get:e[t],enumerable:!0})},I=(r,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of A(e))!F.call(r,o)&&o!=="default"&&h(r,o,{get:()=>e[o],enumerable:!(t=H(e,o))||t.enumerable});return r},p=r=>I(T(h(r!=null?w(U(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var W={};j(W,{default:()=>S});var u=p(c("@yarnpkg/core")),d=p(c("@yarnpkg/fslib")),P=p(c("@yarnpkg/plugin-file"));var i="fn:";var g=class{supports(e,t){return!!e.reference.startsWith(i)}getLocalPath(e,t){let{parentLocator:o,path:n}=u.structUtils.parseFileStyleRange(e.reference,{protocol:i});if(d.ppath.isAbsolute(n))return n;let a=t.fetcher.getLocalPath(o,t);return a===null?null:d.ppath.resolve(a,n)}async fetch(e,t){let o=t.checksums.get(e.locatorHash)||null,[n,a,l]=await t.cache.fetchPackageFromCache(e,o,f({onHit:()=>t.report.reportCacheHit(e),onMiss:()=>t.report.reportCacheMiss(e,`${u.structUtils.prettyLocator(t.project.configuration,e)} can't be found in the cache and will be fetched from the disk`),loader:()=>this.fetchFromDisk(e,t),skipIntegrityCheck:t.skipIntegrityCheck},t.cacheOptions));return{packageFs:n,releaseFs:a,prefixPath:u.structUtils.getIdentVendorPath(e),localPath:this.getLocalPath(e,t),checksum:l}}async fetchFromDisk(e,t){return P.fileUtils.makeArchiveFromLocator(e,{protocol:i,fetchOptions:t})}};var s=p(c("@yarnpkg/core")),m=p(c("@yarnpkg/plugin-file"));var D=p(c("path"));var O=p(c("path"));function R(){let r=process.env.HOME;switch(process.platform){case"darwin":{if(!r)throw new Error("Foundation plugin: $HOME is not defined");return O.join(r,"Library","Caches")}default:{let e=process.env.XDG_CACHE_HOME||process.env.HOME;if(!e)throw new Error("Foundation plugin: neither $XDG_CACHE_HOME nor $HOME are defined");return O.join(e,".cache")}}}var _=2,k=class{supportsDescriptor(e,t){return!!e.range.startsWith(i)}supportsLocator(e,t){return!!e.reference.startsWith(i)}shouldPersistResolution(e,t){return!1}bindDescriptor(e,t,o){return s.structUtils.bindDescriptor(e,{locator:s.structUtils.stringifyLocator(t)})}getResolutionDependencies(e,t){return[]}async getCandidates(e,t,o){if(!o.fetchOptions)throw new Error("Assertion failed: This resolver cannot be used unless a fetcher is configured");let{path:n,parentLocator:a}=m.fileUtils.parseSpec(e.range),l=$(n);if(a===null)throw new Error("Assertion failed: The descriptor should have been bound");let M=await m.fileUtils.makeBufferFromLocator(s.structUtils.makeLocator(e,s.structUtils.makeRange({protocol:i,source:l,selector:l,params:{locator:s.structUtils.stringifyLocator(a)}})),{protocol:i,fetchOptions:o.fetchOptions}),C=s.hashUtils.makeHash(`${_}`,M).slice(0,6);return[m.fileUtils.makeLocator(e,{parentLocator:a,path:l,folderHash:C,protocol:i})]}async getSatisfying(e,t,o){return null}async resolve(e,t){if(!t.fetchOptions)throw new Error("Assertion failed: This resolver cannot be used unless a fetcher is configured");let o=await t.fetchOptions.fetcher.fetch(e,t.fetchOptions),n=await s.miscUtils.releaseAfterUseAsync(async()=>await s.Manifest.find(o.prefixPath,{baseFs:o.packageFs}),o.releaseFs);return y(f({},e),{version:n.version||"0.0.0",languageName:n.languageName||t.project.configuration.get("defaultLanguageName"),linkType:s.LinkType.HARD,conditions:n.getConditions(),dependencies:n.dependencies,peerDependencies:n.peerDependencies,dependenciesMeta:n.dependenciesMeta,peerDependenciesMeta:n.peerDependenciesMeta,bin:n.bin})}};function $(r){return D.join(R(),"fn","module",r)}var N={hooks:{afterAllInstalled:()=>{console.log("Foundation plugin is installed")}},fetchers:[g],resolvers:[k]},S=N;return W;})();
return plugin;
}
};
